#include <stdio.h>
#include <string.h>
#include <stdlib.h>

/////////////////////////Funtion/////////////////////////
char *inputString(FILE* fp, size_t size){
    char *str;
    int ch;
    size_t len = 0;
    str = realloc(NULL, sizeof(*str)*size);
    //size is start size
    if(!str)return str;
    while(EOF!=(ch=fgetc(fp)) && ch != '\n'){
        str[len++]=ch;
        if(len==size){
            str = realloc(str, sizeof(*str)*(size+=16));
            if(!str)return str;
        }
    }
    str[len++]='\0';

    return realloc(str, sizeof(*str)*len);
}
/////////////////////////Funtion/////////////////////////

int main()
{
  int n,j=0,i=0,mo=0,c=0,k=0,d=1;
  float me=0,mid;
  char *a,t;
  printf("input string : ");

  a = inputString(stdin, 10);
  n = strlen(a);
  int ar[n];
  printf("String Length with Spaces is : %d \n", n);

/////////////////////////Removing Spaces/////////////////////////
  while (a[i]){
		if (a[i] != ' ')
          a[j++] = a[i];
		i++;
    }
a[j] = '\0';
printf("%s \n", a);
n = strlen(a);
printf("String Length without Spaces is : %d \n", n);
/////////////////////////Removing Spaces/////////////////////////


///////////////////Bubble Sort///////////////////
for (i = 0; i < n-1; i++){
   for (j = 0; j < n-i-1; j++){
       if (a[j] > a[j+1]){
          t = a[j+1];
          a[j+1] = a[j];
          a[j] = t;
        }
    }  
}
printf("Sorted Array : %s \n", a);

///////////////////Bubble Sort///////////////////

/////////////////////////Mean/////////////////////////
printf("In ASCII CODE  :-> ");
for (i = 0; i < n; i++){
    me = me + a[i];
    printf("%d  ",a[i]);
}
me = me/n;
printf("\n The mean is : %.3f \n",me);
/////////////////////////Mean/////////////////////////

/////////////////////////Median/////////////////////////
i = (n-1)/2;
j = (n)/2;
  if (n%2==0){
    mid = a[i] + a[(i+1)];
    mid = mid/2;
    printf("%d  %d",a[i],a[i+1]);
  }
  else{
    mid = a[j];
  }
printf("\n The mid is : %.1f \n",mid);
/////////////////////////Median/////////////////////////

/////////////////////////Mode/////////////////////////
/*
int b[n];
for (i = 0; i < n-1; i++){
   for (j = i; j < n-1; j++){
       if (a[i] == a[j]){
          c++;
        }
    }
    if((c > mo) && (c != 0)){
        k = 0;
        mo = c;
        b[k] = a[i];
        k++;
    }
    else if(c==mo){
        b[k] = a[i];
        k++;
    }
    c = 0;
}
for (i = 0; i < n; i++)
    {
        if (a[i] == b[i]){ 
            d++;
        }
        else if (mo == 0){
            printf("\nThere is no mode");
            return 0;
        }
        else{
            printf("\nMode\t= ");
            for (i = 0; i < k; i++)
                printf("%d ",b[i]);
        }
        printf("\n");
}
//printf("\n Most Frequent Element is : %c \n Occurence = %d",t,mo);
/////////////////////////Mode/////////////////////////
*/
return 0;
}
